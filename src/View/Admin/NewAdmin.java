/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package View.Admin;

import DAO.AdminDao;
import Model.Admin;
import javax.swing.ImageIcon;
import javax.swing.JFrame;
import jnafilechooser.api.JnaFileChooser;

/**
 *
 * @author Pedro
 * 
 * 
 */
public class NewAdmin extends javax.swing.JPanel {

   ImageIcon icone;
    JnaFileChooser jnaCh; 
    JFrame frame;
    public NewAdmin(JFrame frame ) {
        jnaCh = new JnaFileChooser(); 
        this.frame = frame;
        initComponents();
    
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        txApelido = new textfield.TextField();
        txEmail = new textfield.TextField();
        txSenha = new textfield.TextField();
        txNome = new textfield.TextField();
        txSalario = new textfield.TextField();
        imagePerfil = new View.Admin.ImageAvatar();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();

        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        txApelido.setLabelText("Apelido");
        add(txApelido, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 240, 243, 54));

        txEmail.setLabelText("Email");
        add(txEmail, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 330, 243, 54));

        txSenha.setToolTipText("");
        txSenha.setLabelText("Senha");
        txSenha.setVerifyInputWhenFocusTarget(false);
        add(txSenha, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 410, 243, -1));

        txNome.setToolTipText("");
        txNome.setLabelText("Nome");
        add(txNome, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 150, 243, 54));

        txSalario.setLabelText("Salario");
        add(txSalario, new org.netbeans.lib.awtextra.AbsoluteConstraints(419, 149, 226, -1));
        add(imagePerfil, new org.netbeans.lib.awtextra.AbsoluteConstraints(742, 17, 222, 208));

        jButton1.setText("Escolher");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(742, 315, 222, -1));

        jButton2.setText("Salvar");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(428, 244, 98, 40));
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
       boolean save = jnaCh.showOpenDialog(frame);
        if (save) {
           // System.out.println(jnaCh.getSelectedFile());
           icone = new ImageIcon(jnaCh.getSelectedFile().toString());
        imagePerfil.setImage(icone);
        
        }   
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
      Admin a = new Admin();
      a.setNome(txNome.getText());
      a.setApelido(txApelido.getText());
      a.setE_mail(txEmail.getText());
      a.setSenha(txSenha.getText());
      a.setSalario(Double.parseDouble(txSalario.getText()));
      a.setIcon(icone);
        AdminDao ad = new AdminDao();
        ad.insert(a);
      
    }//GEN-LAST:event_jButton2ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private View.Admin.ImageAvatar imagePerfil;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private textfield.TextField txApelido;
    private textfield.TextField txEmail;
    private textfield.TextField txNome;
    private textfield.TextField txSalario;
    private textfield.TextField txSenha;
    // End of variables declaration//GEN-END:variables
}
